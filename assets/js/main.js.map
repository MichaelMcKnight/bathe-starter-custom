{"version":3,"file":"main.js","sources":["../../src/js/template-parts/modal.js","../../src/js/ui/slide-functions.js","../../src/js/template-parts/mobile-menu.js","../../src/js/template-parts/banner.js","../../src/js/main.js"],"sourcesContent":["export const modalHandler = () => {\n  const modal = document.getElementById('modal');\n\n  if (modal) {\n    let focusedElementBeforeModal;\n\n    const focusableElementsString =\n      'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\n    let focusableElements;\n\n    const setFocusToFirstElement = () => {\n      if (focusableElements.length) {\n        focusableElements[0].focus();\n      }\n    };\n\n    const trapTabKey = (e) => {\n      if (e.keyCode === 9) {\n        const firstFocusableElement = focusableElements[0];\n        const lastFocusableElement =\n          focusableElements[focusableElements.length - 1];\n\n        if (e.shiftKey) {\n          if (document.activeElement === firstFocusableElement) {\n            e.preventDefault();\n            lastFocusableElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastFocusableElement) {\n            e.preventDefault();\n            firstFocusableElement.focus();\n          }\n        }\n      }\n\n      if (e.keyCode === 27) {\n        closeModal(modalContent, modal);\n      }\n    };\n\n    const modalBg = modal.querySelector('.modal__bg');\n    const modalContent = modal.querySelector('.modal__main');\n    const modalClose = modal.querySelector(\n      '.modal__main__header__close-button'\n    );\n\n    focusableElements = modal.querySelectorAll(focusableElementsString);\n\n    if (modalContent) {\n      setTimeout(() => {\n        modalContent.classList.add('active');\n        modal.setAttribute('aria-hidden', 'false');\n        focusedElementBeforeModal = document.activeElement;\n        setFocusToFirstElement();\n        modal.addEventListener('keydown', trapTabKey);\n      }, 500);\n    }\n\n    const closeModal = (content, modal) => {\n      content.classList.remove('active');\n      modal.setAttribute('aria-hidden', 'true');\n      setTimeout(() => {\n        modal.style.display = 'none';\n        if (focusedElementBeforeModal) {\n          focusedElementBeforeModal.focus();\n        }\n      }, 300);\n      modal.removeEventListener('keydown', trapTabKey);\n    };\n\n    modalBg.addEventListener('click', () => {\n      closeModal(modalContent, modal);\n    });\n\n    modalClose.addEventListener('click', () => {\n      closeModal(modalContent, modal);\n    });\n  }\n};\n","export const slideUp = (element, duration) => {\n  element.animate(\n    [\n      { opacity: 1, height: element.scrollHeight + 'px', overflow: 'hidden' },\n      { opacity: 0, height: '0px' },\n    ],\n    {\n      duration: duration,\n      fill: 'forwards',\n    }\n  ).onfinish = function () {\n    element.style.display = 'none'; // Hide the element after animation\n  };\n};\n\nexport const slideDown = (element, duration) => {\n  element.style.display = 'block'; // Make the element displayable\n  element.style.height = '0px';\n  element.style.overflow = 'hidden';\n  element.animate(\n    [\n      { opacity: 0, height: '0px' },\n      { opacity: 1, height: element.scrollHeight + 'px' },\n    ],\n    {\n      duration: duration,\n      fill: 'forwards',\n    }\n  );\n};\n\n/* eslint-disable no-unused-vars */\n// For slideToggle, you will decide whether to slide up or down based on the computed style of the element\nexport const slideToggle = (element, duration) => {\n  const height = window.getComputedStyle(element).height;\n  const opacity = window.getComputedStyle(element).opacity;\n  if (height === '0px' || opacity === '0') {\n    slideDown(element, duration);\n  } else {\n    slideUp(element, duration);\n  }\n};\n","import { slideToggle } from '../ui/slide-functions';\n\nexport const mobileMenuHandler = () => {\n  // JS for handling the menu itself\n  const mobileMenu = document.getElementById('mobile-menu');\n  const mobileMenuTrigger = document.getElementById('mobile-menu-trigger');\n  const mobileMenuNav = mobileMenu.querySelector('.menu');\n\n  const toggleMenu = (trigger, menu, nav) => {\n    let expanded = trigger.getAttribute('aria-expanded') === 'true' || false;\n    trigger.setAttribute('aria-expanded', !expanded);\n\n    trigger.classList.toggle('is-active');\n\n    if (expanded === false) {\n      menu.classList.add('show-menu');\n      setTimeout(() => {\n        menu.classList.add('active');\n        nav.classList.add('active');\n      }, 100);\n    } else {\n      menu.classList.remove('active');\n      nav.classList.remove('active');\n      setTimeout(() => {\n        menu.classList.remove('show-menu');\n      }, 350);\n    }\n  };\n\n  mobileMenuTrigger.addEventListener('click', () => {\n    toggleMenu(mobileMenuTrigger, mobileMenu, mobileMenuNav);\n  });\n\n  // JS for handling sub-menu\n  const hasSubMenu = mobileMenuNav.querySelectorAll('.menu-item-has-children');\n  const subMenu = mobileMenu.querySelectorAll('.sub-menu');\n\n  if (hasSubMenu.length > 0) {\n    hasSubMenu.forEach((el, index) => {\n      el.addEventListener('click', () => {\n        el.classList.toggle('active');\n        slideToggle(subMenu[index], 200);\n      });\n    });\n  }\n};\n","export const bannerHandler = () => {\n  const banner = document.getElementById('homepage-banner');\n  const bannerClose = document.getElementById('homepage-banner-close');\n\n  if (bannerClose) {\n    bannerClose.addEventListener('click', () => {\n      banner.style.display = 'none';\n    });\n  }\n};\n","import { modalHandler } from './template-parts/modal';\nimport { mobileMenuHandler } from './template-parts/mobile-menu';\nimport { bannerHandler } from './template-parts/banner';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  modalHandler();\n  mobileMenuHandler();\n  bannerHandler();\n});\n"],"names":["modal"],"mappings":"AAAO,MAAM,eAAe,MAAM;AAChC,QAAM,QAAQ,SAAS,eAAe,OAAO;AAE7C,MAAI,OAAO;AACT,QAAI;AAEJ,UAAM,0BACJ;AACF,QAAI;AAEJ,UAAM,yBAAyB,MAAM;AACnC,UAAI,kBAAkB,QAAQ;AAC5B,0BAAkB,CAAC,EAAE;MACtB;AAAA,IACP;AAEI,UAAM,aAAa,CAAC,MAAM;AACxB,UAAI,EAAE,YAAY,GAAG;AACnB,cAAM,wBAAwB,kBAAkB,CAAC;AACjD,cAAM,uBACJ,kBAAkB,kBAAkB,SAAS,CAAC;AAEhD,YAAI,EAAE,UAAU;AACd,cAAI,SAAS,kBAAkB,uBAAuB;AACpD,cAAE,eAAc;AAChB,iCAAqB,MAAK;AAAA,UAC3B;AAAA,QACX,OAAe;AACL,cAAI,SAAS,kBAAkB,sBAAsB;AACnD,cAAE,eAAc;AAChB,kCAAsB,MAAK;AAAA,UAC5B;AAAA,QACF;AAAA,MACF;AAED,UAAI,EAAE,YAAY,IAAI;AACpB,mBAAW,cAAc,KAAK;AAAA,MAC/B;AAAA,IACP;AAEI,UAAM,UAAU,MAAM,cAAc,YAAY;AAChD,UAAM,eAAe,MAAM,cAAc,cAAc;AACvD,UAAM,aAAa,MAAM;AAAA,MACvB;AAAA,IACN;AAEI,wBAAoB,MAAM,iBAAiB,uBAAuB;AAElE,QAAI,cAAc;AAChB,iBAAW,MAAM;AACf,qBAAa,UAAU,IAAI,QAAQ;AACnC,cAAM,aAAa,eAAe,OAAO;AACzC,oCAA4B,SAAS;AACrC;AACA,cAAM,iBAAiB,WAAW,UAAU;AAAA,MAC7C,GAAE,GAAG;AAAA,IACP;AAED,UAAM,aAAa,CAAC,SAASA,WAAU;AACrC,cAAQ,UAAU,OAAO,QAAQ;AACjC,MAAAA,OAAM,aAAa,eAAe,MAAM;AACxC,iBAAW,MAAM;AACf,QAAAA,OAAM,MAAM,UAAU;AACtB,YAAI,2BAA2B;AAC7B,oCAA0B,MAAK;AAAA,QAChC;AAAA,MACF,GAAE,GAAG;AACN,MAAAA,OAAM,oBAAoB,WAAW,UAAU;AAAA,IACrD;AAEI,YAAQ,iBAAiB,SAAS,MAAM;AACtC,iBAAW,cAAc,KAAK;AAAA,IACpC,CAAK;AAED,eAAW,iBAAiB,SAAS,MAAM;AACzC,iBAAW,cAAc,KAAK;AAAA,IACpC,CAAK;AAAA,EACF;AACH;AC9EO,MAAM,UAAU,CAAC,SAAS,aAAa;AAC5C,UAAQ;AAAA,IACN;AAAA,MACE,EAAE,SAAS,GAAG,QAAQ,QAAQ,eAAe,MAAM,UAAU,SAAU;AAAA,MACvE,EAAE,SAAS,GAAG,QAAQ,MAAO;AAAA,IAC9B;AAAA,IACD;AAAA,MACE;AAAA,MACA,MAAM;AAAA,IACP;AAAA,EACF,EAAC,WAAW,WAAY;AACvB,YAAQ,MAAM,UAAU;AAAA,EAC5B;AACA;AAEO,MAAM,YAAY,CAAC,SAAS,aAAa;AAC9C,UAAQ,MAAM,UAAU;AACxB,UAAQ,MAAM,SAAS;AACvB,UAAQ,MAAM,WAAW;AACzB,UAAQ;AAAA,IACN;AAAA,MACE,EAAE,SAAS,GAAG,QAAQ,MAAO;AAAA,MAC7B,EAAE,SAAS,GAAG,QAAQ,QAAQ,eAAe,KAAM;AAAA,IACpD;AAAA,IACD;AAAA,MACE;AAAA,MACA,MAAM;AAAA,IACP;AAAA,EACL;AACA;AAIO,MAAM,cAAc,CAAC,SAAS,aAAa;AAChD,QAAM,SAAS,OAAO,iBAAiB,OAAO,EAAE;AAChD,QAAM,UAAU,OAAO,iBAAiB,OAAO,EAAE;AACjD,MAAI,WAAW,SAAS,YAAY,KAAK;AACvC,cAAU,SAAS,QAAQ;AAAA,EAC/B,OAAS;AACL,YAAQ,SAAS,QAAQ;AAAA,EAC1B;AACH;ACvCO,MAAM,oBAAoB,MAAM;AAErC,QAAM,aAAa,SAAS,eAAe,aAAa;AACxD,QAAM,oBAAoB,SAAS,eAAe,qBAAqB;AACvE,QAAM,gBAAgB,WAAW,cAAc,OAAO;AAEtD,QAAM,aAAa,CAAC,SAAS,MAAM,QAAQ;AACzC,QAAI,WAAW,QAAQ,aAAa,eAAe,MAAM,UAAU;AACnE,YAAQ,aAAa,iBAAiB,CAAC,QAAQ;AAE/C,YAAQ,UAAU,OAAO,WAAW;AAEpC,QAAI,aAAa,OAAO;AACtB,WAAK,UAAU,IAAI,WAAW;AAC9B,iBAAW,MAAM;AACf,aAAK,UAAU,IAAI,QAAQ;AAC3B,YAAI,UAAU,IAAI,QAAQ;AAAA,MAC3B,GAAE,GAAG;AAAA,IACZ,OAAW;AACL,WAAK,UAAU,OAAO,QAAQ;AAC9B,UAAI,UAAU,OAAO,QAAQ;AAC7B,iBAAW,MAAM;AACf,aAAK,UAAU,OAAO,WAAW;AAAA,MAClC,GAAE,GAAG;AAAA,IACP;AAAA,EACL;AAEE,oBAAkB,iBAAiB,SAAS,MAAM;AAChD,eAAW,mBAAmB,YAAY,aAAa;AAAA,EAC3D,CAAG;AAGD,QAAM,aAAa,cAAc,iBAAiB,yBAAyB;AAC3E,QAAM,UAAU,WAAW,iBAAiB,WAAW;AAEvD,MAAI,WAAW,SAAS,GAAG;AACzB,eAAW,QAAQ,CAAC,IAAI,UAAU;AAChC,SAAG,iBAAiB,SAAS,MAAM;AACjC,WAAG,UAAU,OAAO,QAAQ;AAC5B,oBAAY,QAAQ,KAAK,GAAG,GAAG;AAAA,MACvC,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AACH;AC7CO,MAAM,gBAAgB,MAAM;AACjC,QAAM,SAAS,SAAS,eAAe,iBAAiB;AACxD,QAAM,cAAc,SAAS,eAAe,uBAAuB;AAEnE,MAAI,aAAa;AACf,gBAAY,iBAAiB,SAAS,MAAM;AAC1C,aAAO,MAAM,UAAU;AAAA,IAC7B,CAAK;AAAA,EACF;AACH;ACLA,SAAS,iBAAiB,oBAAoB,MAAM;AAClD;AACA;AACA;AACF,CAAC;"}